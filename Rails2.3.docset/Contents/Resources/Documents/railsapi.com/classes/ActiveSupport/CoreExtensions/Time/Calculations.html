<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<!-- Mirrored from railsapi.com/doc/rails-v2.3.8/classes/ActiveSupport/CoreExtensions/Time/Calculations.html by HTTrack Website Copier/3.x [XR&CO'2010], Thu, 17 May 2012 15:16:04 GMT -->
<head>
    <title>ActiveSupport::CoreExtensions::Time::Calculations</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../../../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../../../css/main.css" type="text/css" media="screen" />
    <script src="../../../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Module</span> 
            ActiveSupport::CoreExtensions::Time::Calculations 
            
        </h1>
        <ul class="files">
            
            <li><a href="../../../../files/activesupport/lib/active_support/core_ext/time/calculations_rb.html">activesupport/lib/active_support/core_ext/time/calculations.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    
    <div class="description">
        <p>
Enables the use of time calculations within Time itself
</p>

    </div>
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>A</dt>
        <dd>
            <ul>
                
                <li><a href="#M003105">advance</a>,</li>
                
                <li><a href="#M003106">ago</a>,</li>
                
                <li><a href="#M003128">at_beginning_of_day</a>,</li>
                
                <li><a href="#M003131">at_beginning_of_month</a>,</li>
                
                <li><a href="#M003135">at_beginning_of_quarter</a>,</li>
                
                <li><a href="#M003121">at_beginning_of_week</a>,</li>
                
                <li><a href="#M003139">at_beginning_of_year</a>,</li>
                
                <li><a href="#M003133">at_end_of_month</a>,</li>
                
                <li><a href="#M003137">at_end_of_quarter</a>,</li>
                
                <li><a href="#M003123">at_end_of_week</a>,</li>
                
                <li><a href="#M003141">at_end_of_year</a>,</li>
                
                <li><a href="#M003127">at_midnight</a></li>
                
            </ul>
        </dd>
    
        <dt>B</dt>
        <dd>
            <ul>
                
                <li><a href="#M003125">beginning_of_day</a>,</li>
                
                <li><a href="#M003130">beginning_of_month</a>,</li>
                
                <li><a href="#M003134">beginning_of_quarter</a>,</li>
                
                <li><a href="#M003119">beginning_of_week</a>,</li>
                
                <li><a href="#M003138">beginning_of_year</a></li>
                
            </ul>
        </dd>
    
        <dt>C</dt>
        <dd>
            <ul>
                
                <li><a href="#M003104">change</a>,</li>
                
                <li><a href="#M003147">compare_with_coercion</a></li>
                
            </ul>
        </dd>
    
        <dt>E</dt>
        <dd>
            <ul>
                
                <li><a href="#M003129">end_of_day</a>,</li>
                
                <li><a href="#M003132">end_of_month</a>,</li>
                
                <li><a href="#M003136">end_of_quarter</a>,</li>
                
                <li><a href="#M003122">end_of_week</a>,</li>
                
                <li><a href="#M003140">end_of_year</a></li>
                
            </ul>
        </dd>
    
        <dt>F</dt>
        <dd>
            <ul>
                
                <li><a href="#M003102">future?</a></li>
                
            </ul>
        </dd>
    
        <dt>I</dt>
        <dd>
            <ul>
                
                <li><a href="#M003108">in</a></li>
                
            </ul>
        </dd>
    
        <dt>M</dt>
        <dd>
            <ul>
                
                <li><a href="#M003126">midnight</a>,</li>
                
                <li><a href="#M003146">minus_with_coercion</a>,</li>
                
                <li><a href="#M003120">monday</a>,</li>
                
                <li><a href="#M003109">months_ago</a>,</li>
                
                <li><a href="#M003110">months_since</a></li>
                
            </ul>
        </dd>
    
        <dt>N</dt>
        <dd>
            <ul>
                
                <li><a href="#M003118">next_month</a>,</li>
                
                <li><a href="#M003124">next_week</a>,</li>
                
                <li><a href="#M003115">next_year</a></li>
                
            </ul>
        </dd>
    
        <dt>P</dt>
        <dd>
            <ul>
                
                <li><a href="#M003100">past?</a>,</li>
                
                <li><a href="#M003117">prev_month</a>,</li>
                
                <li><a href="#M003114">prev_year</a></li>
                
            </ul>
        </dd>
    
        <dt>S</dt>
        <dd>
            <ul>
                
                <li><a href="#M003103">seconds_since_midnight</a>,</li>
                
                <li><a href="#M003107">since</a></li>
                
            </ul>
        </dd>
    
        <dt>T</dt>
        <dd>
            <ul>
                
                <li><a href="#M003101">today?</a>,</li>
                
                <li><a href="#M003143">tomorrow</a></li>
                
            </ul>
        </dd>
    
        <dt>Y</dt>
        <dd>
            <ul>
                
                <li><a href="#M003111">years_ago</a>,</li>
                
                <li><a href="#M003112">years_since</a>,</li>
                
                <li><a href="#M003142">yesterday</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    

    

    
    <div class="sectiontitle">Classes and Modules</div>
    <ul>
        
        <li><span class="type">MODULE</span> <a href="Calculations/ClassMethods.html">ActiveSupport::CoreExtensions::Time::Calculations::ClassMethods</a></li>
        
    </ul>
    

    
    <div class="sectiontitle">Constants</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class="attr-name">COMMON_YEAR_DAYS_IN_MONTH</td>
            <td>=</td>
            <td class="attr-value">[nil, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]</td>
        </tr>
        
        
    </table>
    

    

    
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M003105">
                    
                    <a name="M003105"></a><b>advance</b>(options)
                    
                </div>
                
                <div class="description">
                  <p>
Uses Date to provide precise Time calculations for years, months, and days.
The <tt>options</tt> parameter takes a hash with any of these keys:
<tt>:years</tt>, <tt>:months</tt>, <tt>:weeks</tt>, <tt>:days</tt>,
<tt>:hours</tt>, <tt>:minutes</tt>, <tt>:seconds</tt>.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003105_source')" id="l_M003105_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/25ec61330b08975ba01577cde5e59aea04e7926b/activesupport/lib/active_support/core_ext/time/calculations.rb#L102" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M003105_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activesupport/lib/active_support/core_ext/time/calculations.rb, line 102</span>
102:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">advance</span>(<span class="ruby-identifier">options</span>)
103:           <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:weeks</span>].<span class="ruby-identifier">nil?</span>
104:             <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:weeks</span>], <span class="ruby-identifier">partial_weeks</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:weeks</span>].<span class="ruby-identifier">divmod</span>(<span class="ruby-value">1</span>)
105:             <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:days</span>] = (<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:days</span>] <span class="ruby-operator">||</span> <span class="ruby-value">0</span>) <span class="ruby-operator">+</span> <span class="ruby-value">7</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">partial_weeks</span>
106:           <span class="ruby-keyword kw">end</span>
107:           
108:           <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:days</span>].<span class="ruby-identifier">nil?</span>
109:             <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:days</span>], <span class="ruby-identifier">partial_days</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:days</span>].<span class="ruby-identifier">divmod</span>(<span class="ruby-value">1</span>)
110:             <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:hours</span>] = (<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:hours</span>] <span class="ruby-operator">||</span> <span class="ruby-value">0</span>) <span class="ruby-operator">+</span> <span class="ruby-value">24</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">partial_days</span>
111:           <span class="ruby-keyword kw">end</span>
112:           
113:           <span class="ruby-identifier">d</span> = <span class="ruby-identifier">to_date</span>.<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">options</span>)
114:           <span class="ruby-identifier">time_advanced_by_date</span> = <span class="ruby-identifier">change</span>(<span class="ruby-identifier">:year</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">d</span>.<span class="ruby-identifier">year</span>, <span class="ruby-identifier">:month</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">d</span>.<span class="ruby-identifier">month</span>, <span class="ruby-identifier">:day</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">d</span>.<span class="ruby-identifier">day</span>)
115:           <span class="ruby-identifier">seconds_to_advance</span> = (<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:seconds</span>] <span class="ruby-operator">||</span> <span class="ruby-value">0</span>) <span class="ruby-operator">+</span> (<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:minutes</span>] <span class="ruby-operator">||</span> <span class="ruby-value">0</span>) <span class="ruby-operator">*</span> <span class="ruby-value">60</span> <span class="ruby-operator">+</span> (<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:hours</span>] <span class="ruby-operator">||</span> <span class="ruby-value">0</span>) <span class="ruby-operator">*</span> <span class="ruby-value">3600</span>
116:           <span class="ruby-identifier">seconds_to_advance</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">time_advanced_by_date</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">time_advanced_by_date</span>.<span class="ruby-identifier">since</span>(<span class="ruby-identifier">seconds_to_advance</span>)
117:         <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003106">
                    
                    <a name="M003106"></a><b>ago</b>(seconds)
                    
                </div>
                
                <div class="description">
                  <p>
Returns a new Time representing the time a number of seconds ago, this is
basically a wrapper around the Numeric extension
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003106_source')" id="l_M003106_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/25ec61330b08975ba01577cde5e59aea04e7926b/activesupport/lib/active_support/core_ext/time/calculations.rb#L120" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M003106_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activesupport/lib/active_support/core_ext/time/calculations.rb, line 120</span>
120:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">ago</span>(<span class="ruby-identifier">seconds</span>)
121:           <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">since</span>(<span class="ruby-operator">-</span><span class="ruby-identifier">seconds</span>)
122:         <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003128">
                    
                    <a name="M003128"></a><b>at_beginning_of_day</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Calculations.html#M003125">beginning_of_day</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M003131">
                    
                    <a name="M003131"></a><b>at_beginning_of_month</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Calculations.html#M003130">beginning_of_month</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M003135">
                    
                    <a name="M003135"></a><b>at_beginning_of_quarter</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Calculations.html#M003134">beginning_of_quarter</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M003121">
                    
                    <a name="M003121"></a><b>at_beginning_of_week</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Calculations.html#M003119">beginning_of_week</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M003139">
                    
                    <a name="M003139"></a><b>at_beginning_of_year</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Calculations.html#M003138">beginning_of_year</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M003133">
                    
                    <a name="M003133"></a><b>at_end_of_month</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Calculations.html#M003132">end_of_month</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M003137">
                    
                    <a name="M003137"></a><b>at_end_of_quarter</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Calculations.html#M003136">end_of_quarter</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M003123">
                    
                    <a name="M003123"></a><b>at_end_of_week</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Calculations.html#M003122">end_of_week</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M003141">
                    
                    <a name="M003141"></a><b>at_end_of_year</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Calculations.html#M003140">end_of_year</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M003127">
                    
                    <a name="M003127"></a><b>at_midnight</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Calculations.html#M003125">beginning_of_day</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M003125">
                    
                    <a name="M003125"></a><b>beginning_of_day</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns a new Time representing the start of the day (0:00)
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Calculations.html#M003126">midnight</a>
                    
                    <a href="Calculations.html#M003127">at_midnight</a>
                    
                    <a href="Calculations.html#M003128">at_beginning_of_day</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003125_source')" id="l_M003125_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/25ec61330b08975ba01577cde5e59aea04e7926b/activesupport/lib/active_support/core_ext/time/calculations.rb#L212" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M003125_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activesupport/lib/active_support/core_ext/time/calculations.rb, line 212</span>
212:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">beginning_of_day</span>
213:           <span class="ruby-comment cmt">#(self - seconds_since_midnight).change(:usec =&gt; 0)</span>
214:           <span class="ruby-identifier">change</span>(<span class="ruby-identifier">:hour</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">:min</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">:sec</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">:usec</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>)
215:         <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003130">
                    
                    <a name="M003130"></a><b>beginning_of_month</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns a new Time representing the start of the month (1st of the month,
0:00)
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Calculations.html#M003131">at_beginning_of_month</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003130_source')" id="l_M003130_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/25ec61330b08975ba01577cde5e59aea04e7926b/activesupport/lib/active_support/core_ext/time/calculations.rb#L226" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M003130_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activesupport/lib/active_support/core_ext/time/calculations.rb, line 226</span>
226:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">beginning_of_month</span>
227:           <span class="ruby-comment cmt">#self - ((self.mday-1).days + self.seconds_since_midnight)</span>
228:           <span class="ruby-identifier">change</span>(<span class="ruby-identifier">:day</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>,<span class="ruby-identifier">:hour</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">:min</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">:sec</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">:usec</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>)
229:         <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003134">
                    
                    <a name="M003134"></a><b>beginning_of_quarter</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns a new Time representing the start of the quarter (1st of january,
april, july, october, 0:00)
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Calculations.html#M003135">at_beginning_of_quarter</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003134_source')" id="l_M003134_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/25ec61330b08975ba01577cde5e59aea04e7926b/activesupport/lib/active_support/core_ext/time/calculations.rb#L241" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M003134_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activesupport/lib/active_support/core_ext/time/calculations.rb, line 241</span>
241:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">beginning_of_quarter</span>
242:           <span class="ruby-identifier">beginning_of_month</span>.<span class="ruby-identifier">change</span>(<span class="ruby-identifier">:month</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value">10</span>, <span class="ruby-value">7</span>, <span class="ruby-value">4</span>, <span class="ruby-value">1</span>].<span class="ruby-identifier">detect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">m</span><span class="ruby-operator">|</span> <span class="ruby-identifier">m</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">month</span> })
243:         <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003119">
                    
                    <a name="M003119"></a><b>beginning_of_week</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns a new Time representing the &#8220;start&#8221; of this week
(Monday, 0:00)
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Calculations.html#M003120">monday</a>
                    
                    <a href="Calculations.html#M003121">at_beginning_of_week</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003119_source')" id="l_M003119_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/25ec61330b08975ba01577cde5e59aea04e7926b/activesupport/lib/active_support/core_ext/time/calculations.rb#L191" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M003119_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activesupport/lib/active_support/core_ext/time/calculations.rb, line 191</span>
191:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">beginning_of_week</span>
192:           <span class="ruby-identifier">days_to_monday</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">wday!</span>=<span class="ruby-value">0</span> <span class="ruby-operator">?</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">wday</span><span class="ruby-operator">-</span><span class="ruby-value">1</span> <span class="ruby-operator">:</span> <span class="ruby-value">6</span>
193:           (<span class="ruby-keyword kw">self</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">days_to_monday</span>.<span class="ruby-identifier">days</span>).<span class="ruby-identifier">midnight</span>
194:         <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003138">
                    
                    <a name="M003138"></a><b>beginning_of_year</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns a new Time representing the start of the year (1st of january,
0:00)
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Calculations.html#M003139">at_beginning_of_year</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003138_source')" id="l_M003138_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/25ec61330b08975ba01577cde5e59aea04e7926b/activesupport/lib/active_support/core_ext/time/calculations.rb#L253" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M003138_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activesupport/lib/active_support/core_ext/time/calculations.rb, line 253</span>
253:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">beginning_of_year</span>
254:           <span class="ruby-identifier">change</span>(<span class="ruby-identifier">:month</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>,<span class="ruby-identifier">:day</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>,<span class="ruby-identifier">:hour</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">:min</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">:sec</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">:usec</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>)
255:         <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003104">
                    
                    <a name="M003104"></a><b>change</b>(options)
                    
                </div>
                
                <div class="description">
                  <p>
Returns a new Time where one or more of the elements have been changed
according to the <tt>options</tt> parameter. The time options (hour,
minute, sec, usec) reset cascadingly, so if only the hour is passed, then
minute, sec, and usec is set to 0. If the hour and minute is passed, then
sec and usec is set to 0.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003104_source')" id="l_M003104_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/25ec61330b08975ba01577cde5e59aea04e7926b/activesupport/lib/active_support/core_ext/time/calculations.rb#L85" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M003104_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File activesupport/lib/active_support/core_ext/time/calculations.rb, line 85</span>
85:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">change</span>(<span class="ruby-identifier">options</span>)
86:           <span class="ruby-operator">::</span><span class="ruby-constant">Time</span>.<span class="ruby-identifier">send</span>(
87:             <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">utc?</span> <span class="ruby-value">? </span><span class="ruby-operator">:</span><span class="ruby-identifier">utc_time</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">:local_time</span>,
88:             <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:year</span>]  <span class="ruby-operator">||</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">year</span>,
89:             <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:month</span>] <span class="ruby-operator">||</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">month</span>,
90:             <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:day</span>]   <span class="ruby-operator">||</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">day</span>,
91:             <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:hour</span>]  <span class="ruby-operator">||</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">hour</span>,
92:             <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:min</span>]   <span class="ruby-operator">||</span> (<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:hour</span>] <span class="ruby-operator">?</span> <span class="ruby-value">0</span> <span class="ruby-operator">:</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">min</span>),
93:             <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:sec</span>]   <span class="ruby-operator">||</span> ((<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:hour</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:min</span>]) <span class="ruby-operator">?</span> <span class="ruby-value">0</span> <span class="ruby-operator">:</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">sec</span>),
94:             <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:usec</span>]  <span class="ruby-operator">||</span> ((<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:hour</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:min</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:sec</span>]) <span class="ruby-operator">?</span> <span class="ruby-value">0</span> <span class="ruby-operator">:</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">usec</span>)
95:           )
96:         <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003147">
                    
                    <a name="M003147"></a><b>compare_with_coercion</b>(other)
                    
                </div>
                
                <div class="description">
                  <p>
Layers additional behavior on Time#<=> so that DateTime and <a
href="../../TimeWithZone.html">ActiveSupport::TimeWithZone</a> instances
can be chronologically compared with a Time
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003147_source')" id="l_M003147_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/25ec61330b08975ba01577cde5e59aea04e7926b/activesupport/lib/active_support/core_ext/time/calculations.rb#L300" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M003147_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activesupport/lib/active_support/core_ext/time/calculations.rb, line 300</span>
300:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">compare_with_coercion</span>(<span class="ruby-identifier">other</span>)
301:           <span class="ruby-comment cmt"># if other is an ActiveSupport::TimeWithZone, coerce a Time instance from it so we can do &lt;=&gt; comparison</span>
302:           <span class="ruby-identifier">other</span> = <span class="ruby-identifier">other</span>.<span class="ruby-identifier">comparable_time</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:comparable_time</span>)
303:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">acts_like?</span>(<span class="ruby-identifier">:date</span>)
304:             <span class="ruby-comment cmt"># other is a Date/DateTime, so coerce self #to_datetime and hand off to DateTime#&lt;=&gt;</span>
305:             <span class="ruby-identifier">to_datetime</span>.<span class="ruby-identifier">compare_without_coercion</span>(<span class="ruby-identifier">other</span>)
306:           <span class="ruby-keyword kw">else</span>
307:             <span class="ruby-identifier">compare_without_coercion</span>(<span class="ruby-identifier">other</span>)
308:           <span class="ruby-keyword kw">end</span>
309:         <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003129">
                    
                    <a name="M003129"></a><b>end_of_day</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns a new Time representing the end of the day, 23:59:59.999999
(.999999999 in ruby1.9)
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003129_source')" id="l_M003129_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/25ec61330b08975ba01577cde5e59aea04e7926b/activesupport/lib/active_support/core_ext/time/calculations.rb#L221" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M003129_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activesupport/lib/active_support/core_ext/time/calculations.rb, line 221</span>
221:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">end_of_day</span>
222:           <span class="ruby-identifier">change</span>(<span class="ruby-identifier">:hour</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">23</span>, <span class="ruby-identifier">:min</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">59</span>, <span class="ruby-identifier">:sec</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">59</span>, <span class="ruby-identifier">:usec</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">999999.999</span>)
223:         <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003132">
                    
                    <a name="M003132"></a><b>end_of_month</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns a new Time representing the end of the month (end of the last day
of the month)
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Calculations.html#M003133">at_end_of_month</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003132_source')" id="l_M003132_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/25ec61330b08975ba01577cde5e59aea04e7926b/activesupport/lib/active_support/core_ext/time/calculations.rb#L233" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M003132_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activesupport/lib/active_support/core_ext/time/calculations.rb, line 233</span>
233:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">end_of_month</span>
234:           <span class="ruby-comment cmt">#self - ((self.mday-1).days + self.seconds_since_midnight)</span>
235:           <span class="ruby-identifier">last_day</span> = <span class="ruby-operator">::</span><span class="ruby-constant">Time</span>.<span class="ruby-identifier">days_in_month</span>( <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">month</span>, <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">year</span> )
236:           <span class="ruby-identifier">change</span>(<span class="ruby-identifier">:day</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">last_day</span>, <span class="ruby-identifier">:hour</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">23</span>, <span class="ruby-identifier">:min</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">59</span>, <span class="ruby-identifier">:sec</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">59</span>, <span class="ruby-identifier">:usec</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">999999.999</span>)
237:         <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003136">
                    
                    <a name="M003136"></a><b>end_of_quarter</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns a new Time representing the end of the quarter (end of the last day
of march, june, september, december)
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Calculations.html#M003137">at_end_of_quarter</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003136_source')" id="l_M003136_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/25ec61330b08975ba01577cde5e59aea04e7926b/activesupport/lib/active_support/core_ext/time/calculations.rb#L247" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M003136_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activesupport/lib/active_support/core_ext/time/calculations.rb, line 247</span>
247:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">end_of_quarter</span>
248:           <span class="ruby-identifier">beginning_of_month</span>.<span class="ruby-identifier">change</span>(<span class="ruby-identifier">:month</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value">3</span>, <span class="ruby-value">6</span>, <span class="ruby-value">9</span>, <span class="ruby-value">12</span>].<span class="ruby-identifier">detect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">m</span><span class="ruby-operator">|</span> <span class="ruby-identifier">m</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">month</span> }).<span class="ruby-identifier">end_of_month</span>
249:         <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003122">
                    
                    <a name="M003122"></a><b>end_of_week</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns a new Time representing the end of this week (Sunday, 23:59:59)
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Calculations.html#M003123">at_end_of_week</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003122_source')" id="l_M003122_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/25ec61330b08975ba01577cde5e59aea04e7926b/activesupport/lib/active_support/core_ext/time/calculations.rb#L199" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M003122_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activesupport/lib/active_support/core_ext/time/calculations.rb, line 199</span>
199:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">end_of_week</span>
200:           <span class="ruby-identifier">days_to_sunday</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">wday!</span>=<span class="ruby-value">0</span> <span class="ruby-operator">?</span> <span class="ruby-value">7</span><span class="ruby-operator">-</span><span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">wday</span> <span class="ruby-operator">:</span> <span class="ruby-value">0</span>
201:           (<span class="ruby-keyword kw">self</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">days_to_sunday</span>.<span class="ruby-identifier">days</span>).<span class="ruby-identifier">end_of_day</span>
202:         <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003140">
                    
                    <a name="M003140"></a><b>end_of_year</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns a new Time representing the end of the year (end of the 31st of
december)
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Calculations.html#M003141">at_end_of_year</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003140_source')" id="l_M003140_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/25ec61330b08975ba01577cde5e59aea04e7926b/activesupport/lib/active_support/core_ext/time/calculations.rb#L259" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M003140_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activesupport/lib/active_support/core_ext/time/calculations.rb, line 259</span>
259:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">end_of_year</span>
260:           <span class="ruby-identifier">change</span>(<span class="ruby-identifier">:month</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">12</span>, <span class="ruby-identifier">:day</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">31</span>, <span class="ruby-identifier">:hour</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">23</span>, <span class="ruby-identifier">:min</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">59</span>, <span class="ruby-identifier">:sec</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">59</span>, <span class="ruby-identifier">:usec</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">999999.999</span>)
261:         <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003102">
                    
                    <a name="M003102"></a><b>future?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Tells whether the Time object&#8217;s time lies in the future
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003102_source')" id="l_M003102_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/25ec61330b08975ba01577cde5e59aea04e7926b/activesupport/lib/active_support/core_ext/time/calculations.rb#L73" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M003102_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File activesupport/lib/active_support/core_ext/time/calculations.rb, line 73</span>
73:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">future?</span>
74:           <span class="ruby-keyword kw">self</span> <span class="ruby-operator">&gt;</span> <span class="ruby-operator">::</span><span class="ruby-constant">Time</span>.<span class="ruby-identifier">current</span>
75:         <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003108">
                    
                    <a name="M003108"></a><b>in</b>(seconds)
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Calculations.html#M003107">since</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M003126">
                    
                    <a name="M003126"></a><b>midnight</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Calculations.html#M003125">beginning_of_day</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M003146">
                    
                    <a name="M003146"></a><b>minus_with_coercion</b>(other)
                    
                </div>
                
                <div class="description">
                  <p>
Time#- can also be used to determine the number of seconds between two Time
instances. We&#8217;re layering on additional behavior so that <a
href="../../TimeWithZone.html">ActiveSupport::TimeWithZone</a> instances
are coerced into values that Time#- will recognize
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003146_source')" id="l_M003146_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/25ec61330b08975ba01577cde5e59aea04e7926b/activesupport/lib/active_support/core_ext/time/calculations.rb#L293" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M003146_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activesupport/lib/active_support/core_ext/time/calculations.rb, line 293</span>
293:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">minus_with_coercion</span>(<span class="ruby-identifier">other</span>)
294:           <span class="ruby-identifier">other</span> = <span class="ruby-identifier">other</span>.<span class="ruby-identifier">comparable_time</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:comparable_time</span>)
295:           <span class="ruby-identifier">other</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-operator">::</span><span class="ruby-constant">DateTime</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">to_f</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">to_f</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">minus_without_coercion</span>(<span class="ruby-identifier">other</span>)
296:         <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003120">
                    
                    <a name="M003120"></a><b>monday</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Calculations.html#M003119">beginning_of_week</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M003109">
                    
                    <a name="M003109"></a><b>months_ago</b>(months)
                    
                </div>
                
                <div class="description">
                  <p>
Returns a new Time representing the time a number of specified months ago
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003109_source')" id="l_M003109_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/25ec61330b08975ba01577cde5e59aea04e7926b/activesupport/lib/active_support/core_ext/time/calculations.rb#L141" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M003109_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activesupport/lib/active_support/core_ext/time/calculations.rb, line 141</span>
141:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">months_ago</span>(<span class="ruby-identifier">months</span>)
142:           <span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:months</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-operator">-</span><span class="ruby-identifier">months</span>)
143:         <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003110">
                    
                    <a name="M003110"></a><b>months_since</b>(months)
                    
                </div>
                
                <div class="description">
                  <p>
Returns a new Time representing the time a number of specified months in
the future
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003110_source')" id="l_M003110_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/25ec61330b08975ba01577cde5e59aea04e7926b/activesupport/lib/active_support/core_ext/time/calculations.rb#L146" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M003110_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activesupport/lib/active_support/core_ext/time/calculations.rb, line 146</span>
146:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">months_since</span>(<span class="ruby-identifier">months</span>)
147:           <span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:months</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">months</span>)
148:         <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003118">
                    
                    <a name="M003118"></a><b>next_month</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Short-hand for <a href="Calculations.html#M003110">months_since</a>(1)
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003118_source')" id="l_M003118_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/25ec61330b08975ba01577cde5e59aea04e7926b/activesupport/lib/active_support/core_ext/time/calculations.rb#L186" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M003118_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activesupport/lib/active_support/core_ext/time/calculations.rb, line 186</span>
186:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">next_month</span>
187:           <span class="ruby-identifier">months_since</span>(<span class="ruby-value">1</span>)
188:         <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003124">
                    
                    <a name="M003124"></a><b>next_week</b>(day = :monday)
                    
                </div>
                
                <div class="description">
                  <p>
Returns a new Time representing the start of the given day in next week
(default is Monday).
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003124_source')" id="l_M003124_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/25ec61330b08975ba01577cde5e59aea04e7926b/activesupport/lib/active_support/core_ext/time/calculations.rb#L206" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M003124_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activesupport/lib/active_support/core_ext/time/calculations.rb, line 206</span>
206:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">next_week</span>(<span class="ruby-identifier">day</span> = <span class="ruby-identifier">:monday</span>)
207:           <span class="ruby-identifier">days_into_week</span> = { <span class="ruby-identifier">:monday</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">:tuesday</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">:wednesday</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>, <span class="ruby-identifier">:thursday</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3</span>, <span class="ruby-identifier">:friday</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">4</span>, <span class="ruby-identifier">:saturday</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span>, <span class="ruby-identifier">:sunday</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">6</span>}
208:           <span class="ruby-identifier">since</span>(<span class="ruby-value">1</span>.<span class="ruby-identifier">week</span>).<span class="ruby-identifier">beginning_of_week</span>.<span class="ruby-identifier">since</span>(<span class="ruby-identifier">days_into_week</span>[<span class="ruby-identifier">day</span>].<span class="ruby-identifier">day</span>).<span class="ruby-identifier">change</span>(<span class="ruby-identifier">:hour</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>)
209:         <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003115">
                    
                    <a name="M003115"></a><b>next_year</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Short-hand for <a href="Calculations.html#M003112">years_since</a>(1)
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003115_source')" id="l_M003115_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/25ec61330b08975ba01577cde5e59aea04e7926b/activesupport/lib/active_support/core_ext/time/calculations.rb#L171" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M003115_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activesupport/lib/active_support/core_ext/time/calculations.rb, line 171</span>
171:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">next_year</span>
172:           <span class="ruby-identifier">years_since</span>(<span class="ruby-value">1</span>)
173:         <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003100">
                    
                    <a name="M003100"></a><b>past?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Tells whether the Time object&#8217;s time lies in the past
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003100_source')" id="l_M003100_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/25ec61330b08975ba01577cde5e59aea04e7926b/activesupport/lib/active_support/core_ext/time/calculations.rb#L63" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M003100_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File activesupport/lib/active_support/core_ext/time/calculations.rb, line 63</span>
63:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">past?</span>
64:           <span class="ruby-keyword kw">self</span> <span class="ruby-operator">&lt;</span> <span class="ruby-operator">::</span><span class="ruby-constant">Time</span>.<span class="ruby-identifier">current</span>
65:         <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003117">
                    
                    <a name="M003117"></a><b>prev_month</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Short-hand for <a href="Calculations.html#M003109">months_ago</a>(1)
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003117_source')" id="l_M003117_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/25ec61330b08975ba01577cde5e59aea04e7926b/activesupport/lib/active_support/core_ext/time/calculations.rb#L181" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M003117_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activesupport/lib/active_support/core_ext/time/calculations.rb, line 181</span>
181:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">prev_month</span>
182:           <span class="ruby-identifier">months_ago</span>(<span class="ruby-value">1</span>)
183:         <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003114">
                    
                    <a name="M003114"></a><b>prev_year</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Short-hand for <a href="Calculations.html#M003111">years_ago</a>(1)
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003114_source')" id="l_M003114_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/25ec61330b08975ba01577cde5e59aea04e7926b/activesupport/lib/active_support/core_ext/time/calculations.rb#L166" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M003114_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activesupport/lib/active_support/core_ext/time/calculations.rb, line 166</span>
166:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">prev_year</span>
167:           <span class="ruby-identifier">years_ago</span>(<span class="ruby-value">1</span>)
168:         <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003103">
                    
                    <a name="M003103"></a><b>seconds_since_midnight</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Seconds since midnight: Time.now.<a
href="Calculations.html#M003103">seconds_since_midnight</a>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003103_source')" id="l_M003103_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/25ec61330b08975ba01577cde5e59aea04e7926b/activesupport/lib/active_support/core_ext/time/calculations.rb#L78" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M003103_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File activesupport/lib/active_support/core_ext/time/calculations.rb, line 78</span>
78:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">seconds_since_midnight</span>
79:           <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">-</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">change</span>(<span class="ruby-identifier">:hour</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>).<span class="ruby-identifier">to_i</span> <span class="ruby-operator">+</span> (<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">usec</span><span class="ruby-operator">/</span><span class="ruby-value">1.0e+6</span>)
80:         <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003107">
                    
                    <a name="M003107"></a><b>since</b>(seconds)
                    
                </div>
                
                <div class="description">
                  <p>
Returns a new Time representing the time a number of seconds since the
instance time, this is basically a wrapper around the Numeric extension.
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Calculations.html#M003108">in</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003107_source')" id="l_M003107_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/25ec61330b08975ba01577cde5e59aea04e7926b/activesupport/lib/active_support/core_ext/time/calculations.rb#L126" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M003107_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activesupport/lib/active_support/core_ext/time/calculations.rb, line 126</span>
126:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">since</span>(<span class="ruby-identifier">seconds</span>)
127:           <span class="ruby-identifier">f</span> = <span class="ruby-identifier">seconds</span>.<span class="ruby-identifier">since</span>(<span class="ruby-keyword kw">self</span>)
128:           <span class="ruby-keyword kw">if</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Duration</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">seconds</span>
129:             <span class="ruby-identifier">f</span>
130:           <span class="ruby-keyword kw">else</span>
131:             <span class="ruby-identifier">initial_dst</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">dst?</span> <span class="ruby-value">? </span><span class="ruby-value">1</span> <span class="ruby-operator">:</span> <span class="ruby-value">0</span>
132:             <span class="ruby-identifier">final_dst</span>   = <span class="ruby-identifier">f</span>.<span class="ruby-identifier">dst?</span> <span class="ruby-value">? </span><span class="ruby-value">1</span> <span class="ruby-operator">:</span> <span class="ruby-value">0</span>
133:             (<span class="ruby-identifier">seconds</span>.<span class="ruby-identifier">abs</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value">86400</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">initial_dst</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">final_dst</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">f</span> <span class="ruby-operator">+</span> (<span class="ruby-identifier">initial_dst</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">final_dst</span>).<span class="ruby-identifier">hours</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">f</span>
134:           <span class="ruby-keyword kw">end</span>
135:         <span class="ruby-keyword kw">rescue</span>
136:           <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">to_datetime</span>.<span class="ruby-identifier">since</span>(<span class="ruby-identifier">seconds</span>)
137:         <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003101">
                    
                    <a name="M003101"></a><b>today?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Tells whether the Time object&#8217;s time is today
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003101_source')" id="l_M003101_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/25ec61330b08975ba01577cde5e59aea04e7926b/activesupport/lib/active_support/core_ext/time/calculations.rb#L68" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M003101_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File activesupport/lib/active_support/core_ext/time/calculations.rb, line 68</span>
68:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">today?</span>
69:           <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">to_date</span> <span class="ruby-operator">==</span> <span class="ruby-operator">::</span><span class="ruby-constant">Date</span>.<span class="ruby-identifier">current</span>
70:         <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003143">
                    
                    <a name="M003143"></a><b>tomorrow</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Convenience method which returns a new Time representing the time 1 day
since the instance time
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003143_source')" id="l_M003143_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/25ec61330b08975ba01577cde5e59aea04e7926b/activesupport/lib/active_support/core_ext/time/calculations.rb#L270" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M003143_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activesupport/lib/active_support/core_ext/time/calculations.rb, line 270</span>
270:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">tomorrow</span>
271:           <span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:days</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>)
272:         <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003111">
                    
                    <a name="M003111"></a><b>years_ago</b>(years)
                    
                </div>
                
                <div class="description">
                  <p>
Returns a new Time representing the time a number of specified years ago
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003111_source')" id="l_M003111_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/25ec61330b08975ba01577cde5e59aea04e7926b/activesupport/lib/active_support/core_ext/time/calculations.rb#L151" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M003111_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activesupport/lib/active_support/core_ext/time/calculations.rb, line 151</span>
151:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">years_ago</span>(<span class="ruby-identifier">years</span>)
152:           <span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:years</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-operator">-</span><span class="ruby-identifier">years</span>)
153:         <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003112">
                    
                    <a name="M003112"></a><b>years_since</b>(years)
                    
                </div>
                
                <div class="description">
                  <p>
Returns a new Time representing the time a number of specified years in the
future
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003112_source')" id="l_M003112_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/25ec61330b08975ba01577cde5e59aea04e7926b/activesupport/lib/active_support/core_ext/time/calculations.rb#L156" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M003112_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activesupport/lib/active_support/core_ext/time/calculations.rb, line 156</span>
156:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">years_since</span>(<span class="ruby-identifier">years</span>)
157:           <span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:years</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">years</span>)
158:         <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003142">
                    
                    <a name="M003142"></a><b>yesterday</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Convenience method which returns a new Time representing the time 1 day ago
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003142_source')" id="l_M003142_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/25ec61330b08975ba01577cde5e59aea04e7926b/activesupport/lib/active_support/core_ext/time/calculations.rb#L265" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M003142_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activesupport/lib/active_support/core_ext/time/calculations.rb, line 265</span>
265:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">yesterday</span>
266:           <span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:days</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">-1</span>)
267:         <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>

<!-- Mirrored from railsapi.com/doc/rails-v2.3.8/classes/ActiveSupport/CoreExtensions/Time/Calculations.html by HTTrack Website Copier/3.x [XR&CO'2010], Thu, 17 May 2012 15:16:05 GMT -->
</html>    